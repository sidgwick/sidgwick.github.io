# 比特币科普

## 历史

2008 年, 中本聪(名字像日本人, 但是到现在为止我们仍然不知道中本聪到底是谁)发表了一篇文章, 标题是 "Bitcoin：A Peer To Peer Electronic Cash System", 在这篇文章里, 他描述比特币基本的原理. 这篇文章发表出来以后, 在社区里激起了广大的反响. 2009 年, 基于这个技术的比特币正式诞生.

比特币诞生之后很长一段时间里, 它都是极客玩家在玩. 2009年1月12日, 哈尔·芬尼(芬尼是计算机科学家，比特币先锋)和中本聪之间进行了第一笔比特币交易. 2010年5月22日, 有人用一万个比特币点了一份价值 $25 的批萨外卖.... 之后的几年时间里, 越来越多的人接触到这个新奇的东西, 越来越多的人开始接受它, 它的价格也被炒的越来越高. 最近一段时间的均价在 $11000 左右(本周暴跌, 我有杠杆还重仓...真是投资砖家:disappointed:).

## 必须了解的常识

比特币可以理解成有一下几个要素构成:

1. 一个去中心化的点对点网络(比特币协议)
2. 一个公共的交易账簿(区块链)
3. 一个去中心化的数学的和确定性的货币发行(分布式挖矿)
4. 一个去中心化的交易验证系统(交易脚本)

这几点其实一点都不高端, 但是这几个朴素的元素设计在一起, 产生了可能是未来最具颠覆性的技术. 这里, 个人理解人工智能解决的是很多事我们不想干, 想让机器去干的问题. 而基于区块链的技术, 则解决了人与人之间的信任问题.

### P2P网络

听上去很高端的一个词, 我们其实很早之前就在用类似的技术了. 如果你用过 BT 下载(电驴, 比特彗星都是这一类), 没用过没关系, 还有个迅雷, 这个你肯定用过. 他们背后就用到了点对点(P2P)网络. 简单来说, 这个网络就是图上这样:

![img](https://upload-images.jianshu.io/upload_images/127313-3c4174ad7cf6edf3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/585)

图中, 所有电脑的地位都是平等的, 有信息过来大家可以相互发送, 最终所有人都是可以收到消息的, 这种信息传递机制, 当你在支付了一比比特币之后, 可以迅速的经由这些机器, 广播到整个网络上去. 每个机器收到你的支付消息之后(当然也可收到其他人的), 就会通过一场计算数学题的比赛, 选出一个优胜者, 来把你的交易记录到账本上(参加这个比赛的人就是矿工, 记录过程就是挖矿, 账本就是区块链).


### 区块链

这个名词现在已经被炒上了天, 实际上它就是一个一串数据块. 可以把它想想成账本, 而其中一块数据可以想想成账本的一页. 每页的结构简单描述如下:

![img](http://7xl1j2.com1.z0.glb.clouddn.com/block.png)

这几个结构里面, 交易字段记录了正真的帐目信息. 最重要的一部分是区块头那个字段, 你可以把这部分想想成书页用来写备注的侧栏, 它里面包含了很多非常重要的数据:

![img](http://7xl1j2.com1.z0.glb.clouddn.com/block_header.png)

Nonce 是这一轮数学比赛里面获胜的那个答案. 时间戳是这些帐目被记录上去的时间(不是交易生成的时间, 是记账时间). 父区块哈希值是用 Nonce 和时间戳通过一定的密码学算法生成的, 如果你想改上一页帐目数据, 就会导致这个摘要改变, 到时候你就会发现, 这个账本前一页和后一页对不上了, 这也是比特币交易不可更改的基础. 其他字段不够核心, 不说了.


### 挖矿

这里的挖矿不是让你去山西下煤窑. 计算机挖矿的本质是做一些数学运算, 但是这种运算, 除了一个一个数去试之外, 没有什么好办法可以解决. 因为没有捷径, 所以为了挖矿, 要消耗很多电力, 当然为了能比别人算得块, 大家也会不断升级自己的机器. 挖矿并不是没有报酬的, 要不傻子才每天开着一堆机器轰轰轰的浪费国家的电. 比特币世界里, 通过挖矿你可以发行新的比特币(在中国这个是中央银行才有的权力), 你自己新发行出来的币, 当然是给到你的钱包里的. 除了可以发行新币之外, 还可以收取手续费. 手续费可以看作是支付发起人对矿工的打赏, 让矿工们更有动力来给自己的交易打包/验证.


### 交易脚本

比特币里面其实是没有账户的概念的, 有多少比特币也只是在数字上体现. 那么你怎么才能花费掉属于你的比特币呢?

比特币里和账户接近的概念叫做比特币钱包地址, 上面说的记账, 其实记录的是比特币数字在一个地址一个地址之间的流动.

这个地址可以理解成一个没有上锁的锁. 别人给你发送一笔钱, 实际上是发送到这个地址上了, 效果可以理解成, 这笔钱被你的这个锁锁上了, 除了你之外, 没有人能打开这个锁. 那么问题来了, 你的钥匙是什么? 放在哪里?

你的钥匙, 实际上是一串数字, 这个数字的长度需要用 256 个二进制位来表示(所以它的大小最大是 2 的 256 次方, 这是个天文数字, 超过了宇宙中原子的总数). 别人如果能很容易找到你的这个数字, 那他就可以花掉你的钱, 不过幸运的是, 目前谁都算不出来. 这个数字以文件形式存在放你电脑上, 在比特币世界里, 有一种备份叫做冷备份, 意思就是把这一串数字抄下来, 写在纸上, 然后删掉自己的私钥, 这样即便是有人攻击了/偷了你的电脑, 他也花不了你的钱.

交易脚本可以理解为一组动作, 这组动作包含解密, 支付等流程. 只有在你的私钥正确的情况下, 你才能执行成功这一连串动作, 从而花掉你的钱.

## 总结

上面是为了给不了解技术细节的人准备的, 我呢, 也不经常写科普文, 再加上这个短文是今天一晚上凑出来的, 估计很多地方稀里糊涂也没描述明白, 不清楚的地方, 可以直接问我.

现实世界里比特币交易是一个非常精细/精密的过程, 上面的描述只是一个大概轮廓, 更多的细节, 有兴趣可以到网路上找资料, 现在网路上关于比特币的资料还是很全的.

